{
  "18": {
    "inputs": {
      "model": [
        "38",
        0
      ],
      "lora": [
        "288",
        0
      ]
    },
    "class_type": "WanVideoSetLoRAs",
    "_meta": {
      "title": "WanVideo Set LoRAs"
    }
  },
  "22": {
    "inputs": {
      "model_name": "wan_2.1_vae.safetensors",
      "precision": "bf16"
    },
    "class_type": "WanVideoVAELoader",
    "_meta": {
      "title": "WanVideo VAE Loader"
    }
  },
  "31": {
    "inputs": {
      "enable_vae_tiling": false,
      "tile_x": 272,
      "tile_y": 272,
      "tile_stride_x": 144,
      "tile_stride_y": 128,
      "normalization": "default",
      "vae": [
        "22",
        0
      ],
      "samples": [
        "86",
        0
      ]
    },
    "class_type": "WanVideoDecode",
    "_meta": {
      "title": "WanVideo Decode"
    }
  },
  "37": {
    "inputs": {
      "lora_0": "wan/WanAnimate_relight_lora_fp16_resized_from_128_to_dynamic_22.safetensors",
      "strength_0": 1,
      "lora_1": "wan/wan2.2_i2v_A14b_low_noise_lora_rank64_lightx2v_4step_1022.safetensors",
      "strength_1": 1,
      "lora_2": "wan/Wan22_PusaV1_lora_LOW_resized_dynamic_avg_rank_98_bf16.safetensors",
      "strength_2": 1,
      "lora_3": "wan/Wan2.2-Fun-A14B-InP-low-noise-HPS2.1.safetensors",
      "strength_3": 0.5,
      "lora_4": "none",
      "strength_4": 0.9,
      "low_mem_load": false,
      "merge_loras": false
    },
    "class_type": "WanVideoLoraSelectMulti",
    "_meta": {
      "title": "WanVideo Lora Select Multi"
    }
  },
  "38": {
    "inputs": {
      "model": "wan/Wan2_2-Animate-14B_fp8_scaled_e4m3fn_KJ_v2.safetensors",
      "base_precision": "fp16_fast",
      "quantization": "fp8_e4m3fn_scaled",
      "load_device": "offload_device",
      "attention_mode": "sageattn",
      "rms_norm_function": "default"
    },
    "class_type": "WanVideoModelLoader",
    "_meta": {
      "title": "WanVideo Model Loader"
    }
  },
  "42": {
    "inputs": {
      "batch_index": [
        "155",
        0
      ],
      "length": 1,
      "image": [
        "240",
        0
      ]
    },
    "class_type": "ImageFromBatch",
    "_meta": {
      "title": "ImageFromBatch"
    }
  },
  "43": {
    "inputs": {
      "model_file": "SeC-4B-fp16.safetensors",
      "device": "gpu0",
      "use_flash_attn": true,
      "allow_mask_overlap": true
    },
    "class_type": "SeCModelLoader",
    "_meta": {
      "title": "SeC Model Loader"
    }
  },
  "53": {
    "inputs": {
      "frame_rate": [
        "213",
        0
      ],
      "loop_count": 0,
      "filename_prefix": "Sec/masked",
      "format": "video/h264-mp4",
      "pix_fmt": "yuv420p",
      "crf": 19,
      "save_metadata": false,
      "trim_to_audio": false,
      "pingpong": false,
      "save_output": false,
      "images": [
        "65",
        0
      ]
    },
    "class_type": "VHS_VideoCombine",
    "_meta": {
      "title": "Video Combine ğŸ¥ğŸ…¥ğŸ…—ğŸ…¢"
    }
  },
  "57": {
    "inputs": {
      "expand": 10,
      "tapered_corners": true,
      "mask": [
        "295",
        0
      ]
    },
    "class_type": "GrowMask",
    "_meta": {
      "title": "GrowMask"
    }
  },
  "59": {
    "inputs": {
      "block_size": 32,
      "device": "cpu",
      "masks": [
        "57",
        0
      ]
    },
    "class_type": "BlockifyMask",
    "_meta": {
      "title": "Blockify Mask"
    }
  },
  "65": {
    "inputs": {
      "color": "255, 0, 0",
      "device": "cpu",
      "image": [
        "240",
        0
      ],
      "mask": [
        "295",
        0
      ]
    },
    "class_type": "DrawMaskOnImage",
    "_meta": {
      "title": "Draw Mask On Image"
    }
  },
  "67": {
    "inputs": {
      "frame_rate": [
        "213",
        0
      ],
      "loop_count": 0,
      "filename_prefix": "Wanimate",
      "format": "video/h264-mp4",
      "pix_fmt": "yuv420p",
      "crf": 19,
      "save_metadata": true,
      "trim_to_audio": false,
      "pingpong": false,
      "save_output": true,
      "images": [
        "269",
        0
      ],
      "audio": [
        "240",
        2
      ]
    },
    "class_type": "VHS_VideoCombine",
    "_meta": {
      "title": "Video Combine ğŸ¥ğŸ…¥ğŸ…—ğŸ…¢"
    }
  },
  "75": {
    "inputs": {
      "image": "pasted/image (78).png"
    },
    "class_type": "LoadImage",
    "_meta": {
      "title": "Load Image"
    }
  },
  "79": {
    "inputs": {
      "width": [
        "181",
        0
      ],
      "height": [
        "183",
        0
      ],
      "retarget_padding": 16,
      "body_stick_width": -1,
      "hand_stick_width": -1,
      "draw_head": "True",
      "pose_data": [
        "80",
        0
      ]
    },
    "class_type": "DrawViTPose",
    "_meta": {
      "title": "Draw ViT Pose"
    }
  },
  "80": {
    "inputs": {
      "width": [
        "181",
        0
      ],
      "height": [
        "183",
        0
      ],
      "model": [
        "81",
        0
      ],
      "images": [
        "240",
        0
      ]
    },
    "class_type": "PoseAndFaceDetection",
    "_meta": {
      "title": "Pose and Face Detection"
    }
  },
  "81": {
    "inputs": {
      "vitpose_model": "vitpose_h_wholebody_model.onnx",
      "yolo_model": "yolov10m.onnx",
      "onnx_device": "CUDAExecutionProvider"
    },
    "class_type": "OnnxDetectionModelLoader",
    "_meta": {
      "title": "ONNX Detection Model Loader"
    }
  },
  "82": {
    "inputs": {
      "color": "0, 0, 0",
      "device": "cpu",
      "image": [
        "240",
        0
      ],
      "mask": [
        "59",
        0
      ]
    },
    "class_type": "DrawMaskOnImage",
    "_meta": {
      "title": "Draw Mask On Image"
    }
  },
  "83": {
    "inputs": {
      "clip_name": "CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors"
    },
    "class_type": "CLIPVisionLoader",
    "_meta": {
      "title": "Load CLIP Vision"
    }
  },
  "85": {
    "inputs": {
      "positive_points": "",
      "negative_points": "",
      "tracking_direction": "bidirectional",
      "annotation_frame_idx": [
        "155",
        0
      ],
      "object_id": 1,
      "max_frames_to_track": -1,
      "mllm_memory_size": 12,
      "offload_video_to_cpu": 20,
      "auto_unload_model": false,
      "model": [
        "43",
        0
      ],
      "frames": [
        "240",
        0
      ],
      "input_mask": [
        "296",
        0
      ]
    },
    "class_type": "SeCVideoSegmentation",
    "_meta": {
      "title": "SeC Video Segmentation"
    }
  },
  "86": {
    "inputs": {
      "steps": 4,
      "cfg": 1,
      "shift": 5,
      "seed": 42,
      "force_offload": true,
      "scheduler": "dpm++_sde",
      "riflex_freq_index": 0,
      "denoise_strength": 1,
      "batched_cfg": "",
      "rope_function": "comfy",
      "start_step": 0,
      "end_step": -1,
      "add_noise_to_samples": false,
      "model": [
        "87",
        0
      ],
      "image_embeds": [
        "316",
        0
      ],
      "text_embeds": [
        "140",
        0
      ]
    },
    "class_type": "WanVideoSampler",
    "_meta": {
      "title": "WanVideo Sampler"
    }
  },
  "87": {
    "inputs": {
      "model": [
        "18",
        0
      ],
      "block_swap_args": [
        "88",
        0
      ]
    },
    "class_type": "WanVideoSetBlockSwap",
    "_meta": {
      "title": "WanVideo Set BlockSwap"
    }
  },
  "88": {
    "inputs": {
      "blocks_to_swap": 30,
      "offload_img_emb": false,
      "offload_txt_emb": false,
      "use_non_blocking": true,
      "vace_blocks_to_swap": 0,
      "prefetch_blocks": 1,
      "block_swap_debug": false
    },
    "class_type": "WanVideoBlockSwap",
    "_meta": {
      "title": "WanVideo Block Swap"
    }
  },
  "92": {
    "inputs": {
      "width": [
        "181",
        0
      ],
      "height": [
        "183",
        0
      ],
      "num_frames": [
        "241",
        1
      ],
      "force_offload": true,
      "frame_window_size": 77,
      "colormatch": "disabled",
      "pose_strength": 1,
      "face_strength": 1,
      "tiled_vae": false,
      "vae": [
        "22",
        0
      ],
      "clip_embeds": [
        "97",
        0
      ],
      "ref_images": [
        "207",
        0
      ],
      "pose_images": [
        "79",
        0
      ],
      "face_images": [
        "80",
        1
      ],
      "bg_images": [
        "82",
        0
      ],
      "mask": [
        "59",
        0
      ]
    },
    "class_type": "WanVideoAnimateEmbeds",
    "_meta": {
      "title": "WanVideo Animate Embeds"
    }
  },
  "97": {
    "inputs": {
      "strength_1": 1,
      "strength_2": 1,
      "crop": "disabled",
      "combine_embeds": "average",
      "force_offload": true,
      "tiles": 0,
      "ratio": 0.5,
      "clip_vision": [
        "83",
        0
      ],
      "image_1": [
        "207",
        0
      ]
    },
    "class_type": "WanVideoClipVisionEncode",
    "_meta": {
      "title": "WanVideo ClipVision Encode"
    }
  },
  "102": {
    "inputs": {
      "Hat": true,
      "Hair": true,
      "Face": true,
      "Sunglasses": true,
      "Upper-clothes": true,
      "Skirt": true,
      "Dress": true,
      "Belt": true,
      "Pants": true,
      "Left-arm": true,
      "Right-arm": true,
      "Left-leg": true,
      "Right-leg": true,
      "Bag": true,
      "Scarf": true,
      "Left-shoe": true,
      "Right-shoe": true,
      "Background": false,
      "process_res": 512,
      "mask_blur": 0,
      "mask_offset": 0,
      "invert_output": false,
      "background": "Alpha",
      "background_color": "#222222",
      "images": [
        "42",
        0
      ]
    },
    "class_type": "ClothesSegment",
    "_meta": {
      "title": "Person Mask"
    }
  },
  "137": {
    "inputs": {
      "text": [
        "154",
        0
      ],
      "clip": [
        "139",
        0
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Prompt)"
    }
  },
  "138": {
    "inputs": {
      "text": "è‰²è°ƒè‰³ä¸½ï¼Œè¿‡æ›ï¼Œé™æ€ï¼Œç»†èŠ‚æ¨¡ç³Šä¸æ¸…ï¼Œå­—å¹•ï¼Œé£æ ¼ï¼Œä½œå“ï¼Œç”»ä½œï¼Œç”»é¢ï¼Œé™æ­¢ï¼Œæ•´ä½“å‘ç°ï¼Œæœ€å·®è´¨é‡ï¼Œä½è´¨é‡ï¼ŒJPEGå‹ç¼©æ®‹ç•™ï¼Œä¸‘é™‹çš„ï¼Œæ®‹ç¼ºçš„ï¼Œå¤šä½™çš„æ‰‹æŒ‡ï¼Œç”»å¾—ä¸å¥½çš„æ‰‹éƒ¨ï¼Œç”»å¾—ä¸å¥½çš„è„¸éƒ¨ï¼Œç•¸å½¢çš„ï¼Œæ¯å®¹çš„ï¼Œå½¢æ€ç•¸å½¢çš„è‚¢ä½“ï¼Œæ‰‹æŒ‡èåˆï¼Œé™æ­¢ä¸åŠ¨çš„ç”»é¢ï¼Œæ‚ä¹±çš„èƒŒæ™¯ï¼Œä¸‰æ¡è…¿ï¼ŒèƒŒæ™¯äººå¾ˆå¤šï¼Œå€’ç€èµ°",
      "clip": [
        "139",
        0
      ]
    },
    "class_type": "CLIPTextEncode",
    "_meta": {
      "title": "CLIP Text Encode (Prompt)"
    }
  },
  "139": {
    "inputs": {
      "clip_name": "umt5_xxl_fp8_e4m3fn_scaled.safetensors",
      "type": "wan",
      "device": "default"
    },
    "class_type": "CLIPLoader",
    "_meta": {
      "title": "Load CLIP"
    }
  },
  "140": {
    "inputs": {
      "positive": [
        "137",
        0
      ],
      "negative": [
        "138",
        0
      ]
    },
    "class_type": "WanVideoTextEmbedBridge",
    "_meta": {
      "title": "WanVideo TextEmbed Bridge"
    }
  },
  "154": {
    "inputs": {
      "text": "ä¸€ä¸ªå°‘å¥³æ­£åœ¨è·³èˆ"
    },
    "class_type": "Text Multiline",
    "_meta": {
      "title": "Text Multiline"
    }
  },
  "155": {
    "inputs": {
      "value": 0
    },
    "class_type": "easy int",
    "_meta": {
      "title": "FirstFrameIndex"
    }
  },
  "165": {
    "inputs": {
      "value": 8
    },
    "class_type": "easy int",
    "_meta": {
      "title": "MaxSecond"
    }
  },
  "166": {
    "inputs": {
      "value": "a*b",
      "a": [
        "165",
        0
      ],
      "b": [
        "213",
        0
      ]
    },
    "class_type": "SimpleMath+",
    "_meta": {
      "title": "ğŸ”§ Simple Math"
    }
  },
  "175": {
    "inputs": {
      "video": "1231.mp4",
      "force_rate": 0,
      "custom_width": 0,
      "custom_height": 0,
      "frame_load_cap": 1,
      "start_time": 0,
      "format": "Wan"
    },
    "class_type": "VHS_LoadVideoFFmpeg",
    "_meta": {
      "title": "Load Video FFmpeg (Upload) ğŸ¥ğŸ…¥ğŸ…—ğŸ…¢"
    }
  },
  "181": {
    "inputs": {
      "value": "(min(a,b)*c//min(a,b))//16*16",
      "a": [
        "213",
        3
      ],
      "b": [
        "213",
        4
      ],
      "c": [
        "228",
        0
      ]
    },
    "class_type": "SimpleMath+",
    "_meta": {
      "title": "ğŸ”§ Simple Math"
    }
  },
  "183": {
    "inputs": {
      "value": "(max(a,b)*c//min(a,b))//16*16",
      "a": [
        "213",
        3
      ],
      "b": [
        "213",
        4
      ],
      "c": [
        "228",
        0
      ]
    },
    "class_type": "SimpleMath+",
    "_meta": {
      "title": "ğŸ”§ Simple Math"
    }
  },
  "207": {
    "inputs": {
      "width": [
        "181",
        0
      ],
      "height": [
        "183",
        0
      ],
      "upscale_method": "lanczos",
      "keep_proportion": "pad_edge_pixel",
      "pad_color": "0, 0, 0",
      "crop_position": "top",
      "divisible_by": 16,
      "device": "cpu",
      "image": [
        "75",
        0
      ]
    },
    "class_type": "ImageResizeKJv2",
    "_meta": {
      "title": "Resize Image v2"
    }
  },
  "213": {
    "inputs": {
      "video_info": [
        "175",
        3
      ]
    },
    "class_type": "VHS_VideoInfoSource",
    "_meta": {
      "title": "Video Info (Source) ğŸ¥ğŸ…¥ğŸ…—ğŸ…¢"
    }
  },
  "228": {
    "inputs": {
      "value": 480
    },
    "class_type": "easy int",
    "_meta": {
      "title": "Int"
    }
  },
  "236": {
    "inputs": {
      "text": "17.53",
      "anything": [
        "213",
        2
      ]
    },
    "class_type": "easy showAnything",
    "_meta": {
      "title": "Duration"
    }
  },
  "240": {
    "inputs": {
      "video": "1231.mp4",
      "force_rate": [
        "213",
        0
      ],
      "custom_width": [
        "181",
        0
      ],
      "custom_height": [
        "183",
        0
      ],
      "frame_load_cap": [
        "166",
        0
      ],
      "start_time": 0,
      "format": "Wan"
    },
    "class_type": "VHS_LoadVideoFFmpeg",
    "_meta": {
      "title": "Load Video FFmpeg (Upload) ğŸ¥ğŸ…¥ğŸ…—ğŸ…¢"
    }
  },
  "241": {
    "inputs": {
      "video_info": [
        "240",
        3
      ]
    },
    "class_type": "VHS_VideoInfoLoaded",
    "_meta": {
      "title": "Video Info (Loaded) ğŸ¥ğŸ…¥ğŸ…—ğŸ…¢"
    }
  },
  "253": {
    "inputs": {
      "text": "30.0",
      "anything": [
        "213",
        0
      ]
    },
    "class_type": "easy showAnything",
    "_meta": {
      "title": "FPS"
    }
  },
  "254": {
    "inputs": {
      "text": "525.9000000000001",
      "anything": [
        "213",
        1
      ]
    },
    "class_type": "easy showAnything",
    "_meta": {
      "title": "TotalFrame"
    }
  },
  "267": {
    "inputs": {
      "start_index": 0,
      "num_frames": [
        "241",
        1
      ],
      "images": [
        "31",
        0
      ]
    },
    "class_type": "GetImageRangeFromBatch",
    "_meta": {
      "title": "Get Image or Mask Range From Batch"
    }
  },
  "269": {
    "inputs": {
      "direction": "right",
      "match_image_size": true,
      "image1": [
        "240",
        0
      ],
      "image2": [
        "267",
        0
      ]
    },
    "class_type": "ImageConcanate",
    "_meta": {
      "title": "Image Concatenate"
    }
  },
  "274": {
    "inputs": {
      "lora_0": "wan/bounce_test_LowNoise-000005.safetensors",
      "strength_0": 0.5,
      "lora_1": "wan/NSFW-22-L-e8.safetensors",
      "strength_1": 0.9,
      "lora_2": "none",
      "strength_2": 1,
      "lora_3": "none",
      "strength_3": 1,
      "lora_4": "none",
      "strength_4": 1,
      "low_mem_load": false,
      "merge_loras": false,
      "prev_lora": [
        "37",
        0
      ]
    },
    "class_type": "WanVideoLoraSelectMulti",
    "_meta": {
      "title": "WanVideo Lora Select Multi"
    }
  },
  "277": {
    "inputs": {
      "width": [
        "278",
        0
      ],
      "height": [
        "278",
        1
      ],
      "batch_size": [
        "278",
        2
      ],
      "color": 16777215
    },
    "class_type": "EmptyImage",
    "_meta": {
      "title": "EmptyImage"
    }
  },
  "278": {
    "inputs": {
      "image": [
        "240",
        0
      ]
    },
    "class_type": "GetImageSize",
    "_meta": {
      "title": "Get Image Size"
    }
  },
  "279": {
    "inputs": {
      "channel": "red",
      "image": [
        "277",
        0
      ]
    },
    "class_type": "ImageToMask",
    "_meta": {
      "title": "Convert Image to Mask"
    }
  },
  "282": {
    "inputs": {
      "filename_prefix": "video/ComfyUI",
      "format": "auto",
      "codec": "auto",
      "video": [
        "283",
        0
      ]
    },
    "class_type": "SaveVideo",
    "_meta": {
      "title": "Save Video"
    }
  },
  "283": {
    "inputs": {
      "fps": 30,
      "images": [
        "240",
        0
      ]
    },
    "class_type": "CreateVideo",
    "_meta": {
      "title": "Create Video"
    }
  },
  "288": {
    "inputs": {
      "switch": [
        "289",
        0
      ],
      "on_false": [
        "37",
        0
      ],
      "on_true": [
        "274",
        0
      ]
    },
    "class_type": "FL_Switch",
    "_meta": {
      "title": "FL Switch"
    }
  },
  "289": {
    "inputs": {
      "value": true
    },
    "class_type": "easy boolean",
    "_meta": {
      "title": "NSFW"
    }
  },
  "295": {
    "inputs": {
      "switch_condition": [
        "303",
        0
      ],
      "case_1": "full",
      "case_2": "",
      "case_3": "",
      "case_4": "",
      "case_5": "",
      "input_default": [
        "85",
        0
      ],
      "input_1": [
        "279",
        0
      ]
    },
    "class_type": "FL_Switch_Big",
    "_meta": {
      "title": "FL Switch Big"
    }
  },
  "296": {
    "inputs": {
      "switch_condition": [
        "303",
        0
      ],
      "case_1": "person",
      "case_2": "cloth",
      "case_3": "",
      "case_4": "",
      "case_5": "",
      "input_default": [
        "102",
        1
      ],
      "input_1": [
        "102",
        1
      ],
      "input_2": [
        "301",
        1
      ]
    },
    "class_type": "FL_Switch_Big",
    "_meta": {
      "title": "FL Switch Big"
    }
  },
  "301": {
    "inputs": {
      "Hat": false,
      "Hair": false,
      "Face": false,
      "Sunglasses": false,
      "Upper-clothes": true,
      "Skirt": true,
      "Dress": true,
      "Belt": true,
      "Pants": true,
      "Left-arm": false,
      "Right-arm": false,
      "Left-leg": false,
      "Right-leg": false,
      "Bag": true,
      "Scarf": true,
      "Left-shoe": false,
      "Right-shoe": false,
      "Background": false,
      "process_res": 512,
      "mask_blur": 0,
      "mask_offset": 0,
      "invert_output": false,
      "background": "Alpha",
      "background_color": "#222222",
      "images": [
        "42",
        0
      ]
    },
    "class_type": "ClothesSegment",
    "_meta": {
      "title": "Cloth Mask"
    }
  },
  "302": {
    "inputs": {
      "value": "person"
    },
    "class_type": "easy string",
    "_meta": {
      "title": "äººç‰©æ¨¡å¼ï¼Œæ›¿æ¢æ•´ä¸ªäººç‰©ï¼ŒåŒ…å«ç©¿æ­å½¢è±¡"
    }
  },
  "303": {
    "inputs": {
      "value": "cloth"
    },
    "class_type": "easy string",
    "_meta": {
      "title": "æœè£…æ¨¡å¼ï¼Œæ›¿æ¢æœè£…"
    }
  },
  "305": {
    "inputs": {
      "value": "person"
    },
    "class_type": "easy string",
    "_meta": {
      "title": "Taskmode"
    }
  },
  "306": {
    "inputs": {
      "value": "full"
    },
    "class_type": "easy string",
    "_meta": {
      "title": "é»˜è®¤æ¨¡å¼ï¼Œæ›¿æ¢æ•´ä¸ªç”»é¢åŒ…å«èƒŒæ™¯ï¼Œä¿æŒå§¿åŠ¿"
    }
  },
  "316": {
    "inputs": {
      "switch_condition": [
        "303",
        0
      ],
      "case_1": "cloth",
      "case_2": "",
      "case_3": "",
      "case_4": "",
      "case_5": "",
      "input_default": [
        "92",
        0
      ],
      "input_1": [
        "317",
        0
      ]
    },
    "class_type": "FL_Switch_Big",
    "_meta": {
      "title": "FL Switch Big"
    }
  },
  "317": {
    "inputs": {
      "width": [
        "181",
        0
      ],
      "height": [
        "183",
        0
      ],
      "num_frames": [
        "241",
        1
      ],
      "force_offload": true,
      "frame_window_size": 77,
      "colormatch": "disabled",
      "pose_strength": 1,
      "face_strength": 1,
      "tiled_vae": false,
      "vae": [
        "22",
        0
      ],
      "clip_embeds": [
        "97",
        0
      ],
      "ref_images": [
        "207",
        0
      ],
      "bg_images": [
        "82",
        0
      ],
      "mask": [
        "59",
        0
      ]
    },
    "class_type": "WanVideoAnimateEmbeds",
    "_meta": {
      "title": "WanVideo Animate Embeds"
    }
  }
}